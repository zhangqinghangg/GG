(this["webpackJsonptriage-screen"]=this["webpackJsonptriage-screen"]||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(4),l=a.n(i),s=(a(72),a(27)),r=a(28),o=a(31),m=a(29),u=a(32),d=a(2),f=a.n(d),p=a(65),h=(a(60),a(13)),v=a.n(h);a(61);function E(e){window.ggie.webLog(e)}a(115);var g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).timer=null,a.data=void 0,a.trick=function(){a.setState({date:v()().format("YYYY[\u5e74]MM[\u6708]DD[\u65e5] dddd HH : mm")})},a.toggle=function(e){f.a.eq(e,"show")?a.setState({visiable:!0}):a.setState({visiable:!1})},a.onChange=function(){var e=a.state.queue,t=Math.round(Math.random()*(a.data.length-1)),n=f.a.toString(Date.now());n=n.substring(n.length-3),e.shift(),a.setState({queue:e}),e.push({first:a.data[t].first,second:n,third:a.data[t].third,fourth:a.data[t].fourth,fifth:a.data[t].fifth}),a.setState({queue:e})},a.timer=null,a.state={date:v()().format("YYYY[\u5e74]MM[\u6708]DD[\u65e5] dddd HH : mm"),queue:a.props.queue,tip:"\u8bf7\u5728\u7b49\u5f85\u533a\u7b49\u5019\uff0c\u542c\u5230\u53eb\u53f7\u540e\u524d\u5f80\u6307\u5b9a\u5c31\u8bca\u79d1\u5ba4",visiable:!1},a.data=[{first:"\u5185\u5206\u6ccc\u79d1",second:"301",third:"\u6768\u6c38\u4fe1",fourth:"023\u559c\u7f8a\u7f8a",fifth:{value:"024\u8001\u5434",flag:"\u7ea6"}},{first:"\u795e\u7ecf\u79d1",second:"302",third:"\u6768\u6c38\u4fe1",fourth:"005\u7070\u592a\u72fc",fifth:{value:"173\u8001\u738b",flag:""}},{first:"\u8111\u6b8b\u79d1",second:"405",third:"\u6768\u6c38\u4fe1",fourth:"005\u5c0f\u7070\u7070",fifth:{value:"173\u8001\u5f20",flag:"\u7ea6"}}],a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.timer=setInterval(this.trick,6e4),E("\u8fdb\u5165\u6a2a\u5c4f")}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t="Horizontal",a=this.props,c=a.sysName,i=a.title,l=this.state,s=l.date,r=l.queue,o=l.tip,m=l.visiable;return n.createElement("div",{className:t,id:t},n.createElement("img",{className:"".concat(t,"-bg"),alt:"BG",src:"./h5/img/horizontal.jpg"}),n.createElement("div",{className:"btn-group"},n.createElement("button",{key:"toggle",onClick:function(){return e.toggle("show")}},"\u663e\u793a\u901a\u77e5"),n.createElement("button",{key:"+1",onClick:this.onChange},"\u4e0b\u4e00\u4e2a")),n.createElement("header",{className:"".concat(t,"-header")},n.createElement("span",{key:"sysName"},c),n.createElement("span",{className:"time",key:"time-show"},s)),n.createElement("section",{className:"".concat(t,"-middle")},n.createElement("div",{className:"gg-title"},!f.a.isEmpty(i)&&i.map((function(e,t){return n.createElement("div",{className:"td",key:"table-title-".concat(t)},n.createElement("span",null,e))}))),n.createElement("div",{className:"gg-content"},!f.a.isEmpty(r)&&r.map((function(e,t){return t%2===0?n.createElement("div",{className:"gg-row even",key:"patient-".concat(t)},f.a.keys(e).map((function(t,a){return"object"===typeof e[t]?n.createElement("div",{className:"has-flag",key:a},n.createElement("span",null,e[t].value),n.createElement("div",{className:"flag"},e[t].flag)):n.createElement("div",{className:"no-flag",key:a},e[t])}))):n.createElement("div",{className:"gg-row odd",key:"patient-".concat(t)},f.a.keys(e).map((function(t,a){return"object"===typeof e[t]?n.createElement("div",{className:"has-flag",key:a},n.createElement("span",null,e[t].value),n.createElement("div",{className:"flag"},e[t].flag)):n.createElement("div",{className:"no-flag",key:a},e[t])})))})))),n.createElement("footer",{className:"".concat(t,"-footer")},n.createElement("span",{key:"tip"},o)),n.createElement(p.a,{visible:m,wrapClassName:"gg-modal",animation:"zoom",maskAnimation:"fade",closable:!1,closeIcon:n.createElement("span",null),onClose:function(t){return e.toggle("close")}},"\u5475\u5475\u5475"))}}]),t}(n.Component),y=a(66),N=function(e){return c.a.createElement("marquee",{className:"g-marquee",direction:"left"},e.children)},k=(a(116),a(64)),b=a.n(k),w=function(e){var t=b()("gg-name",e.className),a=/^[\u4e00-\u9fa5]{2}$/,c=a.test.bind(a);return n.createElement("div",{className:t},e.id&&n.createElement("span",{key:e.id},e.id," "),e.value&&function(e){var t=e.length;return c(e)?n.createElement("span",null,e.split("").join(" ")):t>3?n.createElement("span",{className:"overSizeName"},e):n.createElement("span",null,e)}(e.value))},q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).timer=null,a.trick=function(){a.setState({date:v()().format("YYYY[\u5e74]MM[\u6708]DD[\u65e5] dddd HH : mm")})},a.timer=null,a.state={queue:a.props.queue,date:v()().format("YYYY[\u5e74]MM[\u6708]DD[\u65e5] dddd HH : mm"),counter:0,docInfo:a.props.docInfo,department:a.props.department,officeId:a.props.officeId},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.timer=setInterval(this.trick,6e4),console.log(window),E("\u8fdb\u5165\u7ad6\u5c4f")}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"testQueue",value:function(e){var t=Object(y.a)(this.state.queue);f.a.eq(e,"add")?(t.push(["00"+this.state.counter,"\u6d4b\u8bd5"+this.state.counter]),this.setState((function(e){return{queue:t,counter:e.counter+1}}))):f.a.eq(e,"delete")?(t=t.slice(1),this.setState({queue:t})):f.a.eq(e,"changeDoc")&&this.setState({docInfo:{avatar:"doc1.png",name:"\u7070\u592a\u72fc",duty:"\u4e3b\u5200\u533b\u5e08"}})}},{key:"render",value:function(){var e="Vertical",t=this.props,a=t.sysName,n=t.department,i=t.officeId,l=this.state,s=l.queue,r=l.docInfo,o=f.a.isEmpty(s.slice(1))?[]:s.slice(1),m=f.a.isEmpty(s.slice(0).shift())?[]:s.slice(0).shift();return c.a.createElement("div",{className:e},c.a.createElement("img",{className:"".concat(e,"-bg"),alt:"BG",src:"./h5/img/vertical.jpg"}),c.a.createElement("header",{className:"".concat(e,"-header")},c.a.createElement("span",{key:"sysName"},a)),c.a.createElement("section",{className:"".concat(e,"-middle-part")},c.a.createElement("div",{className:"department-name"},c.a.createElement("span",{key:"department"},n)),c.a.createElement(N,null,f.a.isEmpty(m)?"\u6682\u65e0\u5f85\u8bca\u7528\u6237":"\u8bf7".concat(m[0],"\u53f7").concat(m[1],"\u5230\u8bca\u5ba4").concat(i,"\u5c31\u8bca")),c.a.createElement("div",{className:"main-content"},c.a.createElement("div",{className:"left-part"},c.a.createElement("div",{className:"doc-img"},c.a.createElement("img",{key:"doc-img",alt:"doc-img",src:"."+"/h5/img/".concat(r.avatar)})),c.a.createElement("div",{className:"doc-info"},c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"label"},"\u533b\u751f"),c.a.createElement("div",{key:"docInfo.name",className:"content"},r.name)),c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"label"},"\u804c\u79f0"),c.a.createElement("div",{key:"docInfo.duty",className:"content"},r.duty)))),c.a.createElement("div",{className:"right-part"},c.a.createElement("div",{className:"current"},c.a.createElement("div",{className:"label"},c.a.createElement("span",null,"\u8bf7\u5c31\u8bca")),f.a.isEmpty(m)?c.a.createElement("div",{className:"content"}):c.a.createElement("div",{className:"content"},c.a.createElement("span",{key:"current-num"},m[0]),c.a.createElement(w,{key:"current-user",value:m[1]}))),c.a.createElement("div",{className:"waiting"},c.a.createElement("div",{className:"label"},c.a.createElement("span",null,"\u8bf7\u7b49\u5f85")),c.a.createElement("div",{className:"content"},!f.a.isEmpty(o)&&o.map((function(e,t){return c.a.createElement(w,{key:t,value:e[1],id:e[0]})}))))))),c.a.createElement("section",{className:"".concat(e,"-middle-bottom-part")}),c.a.createElement("footer",{className:"".concat(e,"-bottom-part")},c.a.createElement("span",{key:"time-set",className:"time"},this.state.date)))}}]),t}(c.a.Component),j=(a(117),function(e){var t=e.config,a={Horizontal:g,Vertical:q};Object(n.useEffect)((function(){E("\u8fdb\u5165App\uff0c\u9009\u62e9\u5206\u8fa8\u7387\u5bf9\u5e94\u7684\u7ec4\u4ef6")}));var i=f.a.eq(t.type,"vertical")?a.Vertical:a.Horizontal;return c.a.createElement(i,t)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.TS={},window.ggie={},window.ggie.webLog=function(e){},window.TS.init=function(e){var t=document.getElementById("root");"horizontal"===e.type&&(t.style.width="1920px",t.style.height="1080px"),l.a.render(c.a.createElement(j,{config:e}),document.getElementById("root"))},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a(118)},72:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.c5933e59.chunk.js.map